> å…³äºæˆ‘ï¼šå¾®ä¿¡å…¬ä¼—å·ï¼š**é¢è¯•å®˜é—®**ï¼ŒåŸåˆ›é«˜è´¨é‡é¢è¯•é¢˜ï¼Œå§‹äºé¢è¯•é¢˜ï¼Œä½†ä¸æ­¢äºé¢è¯•é¢˜ã€‚ã€èŒæ–°è§£é¢˜ã€‘ç³»åˆ—æ–‡ç« è¯•å›¾ä»æ–°äººçš„è§’åº¦å»çœ‹å¾…å’Œè§£å†³åŠ›æ‰£é¢˜ç›®ã€‚

## å‰ç½®çŸ¥è¯†ç‚¹

1. Java ä¸­æœ‰ 4 ç§ä¸åŒçš„æ•´æ•°ç±»å‹ï¼Œåˆ†åˆ«ä¸ºï¼š
   * 8 ä½çš„ byte(-2â·ï½2â·-1)ï¼Œå…¶ä¸­ Byte.MIN_VALUE=-2â·ï¼›Byte.MAX_VALUE=2â·-1
   * 16 ä½çš„ short(-2Â¹âµï½2Â¹âµ-1)ï¼Œå…¶ä¸­ Short.MIN_VALUE=-2Â¹âµï¼ŒShort.MAX_VALUE=2Â¹âµ-1
   * 32ä½çš„int(-2Â³Â¹ï½2Â³Â¹-1)ï¼Œå…¶ä¸­ Integer.MIN_VALUE=-2Â³Â¹ï¼ŒInteger.MAX_VALUE=2Â³Â¹-1
   * 64ä½çš„ long(-2â¶Â³ï½2â¶Â³-1)ï¼Œå…¶ä¸­ Long.MIN_VALUE=-2â¶Â³ï¼ŒLong.MAX_VALUE=2â¶Â³-1
2. æ•´å‹æº¢å‡ºé—®é¢˜ï¼šint å‹æ•´æ•°çš„é™¤æ³•åªæœ‰ä¸€ç§æƒ…å†µä¼šå‘ç”Ÿæº¢å‡ºï¼Œå³ `(-2Â³Â¹)/(-1)=2Â³Â¹`ï¼Œè€Œ int å‹æ•´æ•°æœ€å¤§å€¼ä¸º `2Â³Â¹-1`ï¼Œ2Â³Â¹ å·²ç»è¶…å‡ºèŒƒå›´ã€‚
3. ä½¿ç”¨åˆ°çš„è‹±æ–‡å•è¯è¯´æ˜ï¼š
   * quotientï¼šå•†
   * dividendï¼šè¢«é™¤æ•°
   * divisor ï¼šé™¤æ•°

## è§£é¢˜è¯´æ˜

é¢˜ç›®è¦æ±‚ä¸èƒ½ä½¿ç”¨ä¹˜æ³•ã€é™¤æ³•å’Œ mod è¿ç®—ç¬¦ï¼Œé‚£åŠ å‡ä¹˜é™¤å°±å‰©åŠ æ³•å’Œå‡æ³•äº†ï¼Œè¦å®ç°ä¸¤æ•°ç›¸é™¤åŠŸèƒ½å½“ç„¶å°±åªèƒ½é€‰æ‹©**å‡æ³•**äº†ã€‚

æŒ‰ç…§é¢˜ç›®çš„æè¿°ï¼Œæˆ‘ä»¬çŸ¥é“ï¼Œè¢«é™¤æ•° dividend å’Œé™¤æ•° disisor å¯èƒ½ä¸ºæ­£æ•°ä¹Ÿå¯èƒ½ä¸ºè´Ÿæ•°ï¼Œç»„åˆèµ·æ¥æœ‰å››ç§å¯èƒ½ï¼Œå³æ­£æ­£ï¼Œæ­£è´Ÿï¼Œè´Ÿè´Ÿï¼Œè´Ÿæ­£ï¼Œä¸ºäº†ç®€åŒ–ä»£ç å®ç°å’Œé€»è¾‘åˆ¤æ–­ï¼Œæˆ‘ä»¬å¯ä»¥å…ˆæŠŠ dividend å’Œ disisor éƒ½è½¬æ¢æˆæ­£æ­£ï¼Œæˆ–è€…è´Ÿè´Ÿï¼Œå†è¿›è¡Œç»Ÿä¸€çš„é€»è¾‘å¤„ç†ï¼ŒåŒæ—¶è®°å½•ä¸‹æœ€ç»ˆç»“æœæ˜¯æ­£å·è¿˜æ˜¯è´Ÿå·ã€‚æœ€è‡ªç„¶çš„æƒ³æ³•å½“ç„¶æ˜¯æŠŠä¸¤è€…ç»Ÿä¸€ä¸ºæ­£æ­£è¿›è¡Œè®¡ç®—ï¼Œä½†å¦‚æœä»”ç»†ä¸€æƒ³ï¼Œä½ ä¼šï¼ˆ~~ä¹Ÿå¯èƒ½å‘ç°ä¸äº†ğŸ¶~~ï¼‰å‘ç°ï¼Œå¯¹äº 32 ä½çš„æ•´æ•°è€Œè¨€ï¼Œæœ€å°çš„æ•´æ•°æ˜¯ -2Â³Â¹ï¼Œæœ€å¤§çš„æ•´æ•°æ˜¯ 2Â³Â¹-1ã€‚å› æ­¤ï¼Œå¦‚æœå°† -2Â³Â¹ è½¬æ¢ä¸ºæ­£æ•°åˆ™ä¼šå¯¼è‡´æº¢å‡ºã€‚ä½†**æŠŠä»»æ„æ­£æ•´æ•°è½¬æ¢æˆè´Ÿæ•°æ˜¯ä¸ä¼šå‘ç”Ÿæº¢å‡ºçš„**ã€‚å› æ­¤æˆ‘ä»¬æœ€ç»ˆé€‰æ‹©æŠŠè¢«é™¤æ•° dividend å’Œé™¤æ•° disisor ç»Ÿä¸€è½¬æ¢æˆè´Ÿæ•°è¿›è¡Œå¤„ç†ï¼Œä»£ç æ¡†æ¶å¦‚ä¸‹æ‰€ç¤ºï¼š

* java

```java
class Solution {
    /**
     * ä¸¤æ•°ç›¸é™¤
     * 
     * dividend è¢«é™¤æ•°
     * divisor é™¤æ•°
     */
    public int divide(int dividend, int divisor) {
        // å¤„ç†æ•´å‹æº¢å‡ºé—®é¢˜ï¼Œ-2Â³Â¹=0x80000000
        if (dividend == 0x80000000 && divisor == -1) {
            return Integer.MAX_VALUE;
        }

        // ç”¨æ¥è®°å½•é™¤æ•°å’Œè¢«é™¤æ•°æ˜¯è´Ÿæ•´æ•°çš„ä¸ªæ•°ï¼Œåˆå§‹åŒ–ä¸º2
        int negative = 2;

        // å¦‚æœè¢«é™¤æ•°æ˜¯æ­£æ•´æ•°ï¼Œåˆ™è½¬æ¢æˆå¯¹åº”çš„è´Ÿæ•´æ•°
        if (dividend > 0) {
            negative--;
            dividend = -dividend;
        }

        // å¦‚æœé™¤æ•°æ˜¯æ­£æ•´æ•°ï¼Œåˆ™è½¬æ¢æˆå¯¹åº”çš„è´Ÿæ•´æ•°
        if (divisor > 0) {
            negative--;
            divisor = -divisor;
        }

        int result = divideCore(dividend, divisor);
        return negative == 1 ? -result : result;
    }

    /**
     * ä½¿ç”¨å‡æ³•å®ç°ä¸¤ä¸ªè´Ÿæ•´æ•°çš„ç›¸é™¤æ“ä½œ
     * 
     * dividendï¼šè¢«é™¤æ•°
     * divisorï¼šé™¤æ•°
     */
    private int divideCore(int dividend, int divisor) {
    
    }
}
```

æˆ‘ä»¬æ¥ä¸‹æ¥ç»§ç»­åˆ†æä¸¤ä¸ª**è´Ÿæ•´æ•°**ç›¸é™¤çš„å¤„ç†ï¼Œä»¥ dividend/divisor ä¸ºä¾‹å­ï¼Œå½“ dividend å°äºç­‰äº divisor æ—¶ï¼Œæˆ‘ä»¬å¾ªç¯æ‰§è¡Œ (dividend-divisor) å¹¶è®¡æ•°ï¼Œç¤ºä¾‹ä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š

* java

```java
class Solution {
    /**
     * ä½¿ç”¨å‡æ³•å®ç°ä¸¤ä¸ªè´Ÿæ•´æ•°çš„ç›¸é™¤æ“ä½œ
     * 
     * dividendï¼šè¢«é™¤æ•°
     * divisorï¼šé™¤æ•°
     */
    private int divideCore(int dividend, int divisor) {
        // å•†
        int quotient = 0;
        while (dividend <= divisor) {
            quotient++;
            dividend -= divisor;
        }
        return quotient;
    }
}
```

å†æ¬¡å¼ºè°ƒä¸‹ï¼Œè¿™æ®µä»£ç ä¸­ï¼Œæˆ‘ä»¬å·²ç»ç¡®ä¿ dividend å’Œ divisor éƒ½æ˜¯**è´Ÿæ•´æ•°**ï¼Œå› æ­¤ï¼Œä¸‹é¢æè¿°ä¸­ï¼Œ**dividend ä¹Ÿæ˜¯å°äº divisor çš„**ï¼Œæ€ç»´è¦è½¬å˜è¿‡æ¥ã€‚

ä¸Šé¢ä»£ç çš„é€»è¾‘æ²¡æœ‰é—®é¢˜ï¼Œä½†å½“ dividend è¿œå°äº divisor æ—¶ï¼Œä¾‹å¦‚ dividend = -(2Â³Â¹-1)ï¼Œè€Œ divisor=-1 æ—¶ï¼Œè¿™æ®µä»£ç æ‰§è¡Œä¼šèŠ±è´¹å¤ªé•¿æ—¶é—´ï¼Œ**å¯¼è‡´è¶…æ—¶**ã€‚

å› æ­¤ï¼Œæˆ‘ä»¬å¾—æƒ³å…¶ä»–æ”¹è¿›çš„åŠæ³•ï¼Œ**æ•´ä½“æ€è·¯è¿˜æ˜¯é€šè¿‡å‡æ³•å®ç°**ï¼Œä½†ä¸ºäº†ç¼©çŸ­ç›¸å‡çš„æ¬¡æ•°ï¼Œæˆ‘ä»¬å¯ä»¥**å€Ÿé‰´äºŒåˆ†æ³•çš„æ€æƒ³**ï¼Œå½“è¢«é™¤æ•° dividend å°äºé™¤æ•° divisor æ—¶ï¼Œç»§ç»­æ¯”è¾ƒåˆ¤æ–­è¢«é™¤æ•°æ˜¯å¦å°äºé™¤æ•°çš„ 2 å€ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™ç»§ç»­åˆ¤æ–­è¢«é™¤æ•°æ˜¯å¦å°äºé™¤æ•°çš„ 4 å€ã€8 å€ç­‰ã€‚å¦‚æœè¢«é™¤æ•°æœ€å¤šå°äºé™¤æ•°çš„ 2áµ å€ï¼Œé‚£ä¹ˆå°†è¢«é™¤æ•°å‡å»é™¤æ•°çš„ 2áµ å€ï¼Œç„¶åå°†å‰©ä½™çš„è¢«é™¤æ•°é‡å¤å‰é¢çš„æ­¥éª¤ã€‚ç”±äºæ¯æ¬¡å°†é™¤æ•°ç¿»å€ï¼Œå› æ­¤ä¼˜åŒ–åçš„æ—¶é—´å¤æ‚åº¦æ˜¯Oï¼ˆlognï¼‰ã€‚æ ¸å¿ƒä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š

* java

```java
class Solution {
    /**
     * ä½¿ç”¨å‡æ³•å®ç°ä¸¤ä¸ªè´Ÿæ•´æ•°çš„ç›¸é™¤æ“ä½œ
     * 
     * dividendï¼šè¢«é™¤æ•°
     * divisorï¼šé™¤æ•°
     */
    private int divideCore(int dividend, int divisor) {
        int ans = 0;
        while (dividend <= divisor) {
            // å•†
            int quotient = 1;
            
            // ä¸´æ—¶å˜é‡
            int value = divisor;

            // æ³¨æ„é¢˜ç›®è¦æ±‚ï¼Œåªèƒ½ä½¿ç”¨åŠ æ³•å’Œå‡æ³•
            // å› æ­¤ï¼Œé€šè¿‡value+valueå®ç°value*2çš„æ•ˆæœ
            while (dividend <= value + value) {
                // quotient é€šè¿‡è‡ªèº«ä¸æ–­å åŠ å®ç°ä¹˜ä»¥ 2 çš„æ•ˆæœ
                quotient += quotient;
                // value é€šè¿‡è‡ªèº«ä¸æ–­å åŠ å®ç°ä¹˜ä»¥ 2 çš„æ•ˆæœ
                value += value;
            }

            ans += quotient;
            dividend -= value;
        }

        return ans;
    }
}
```

æäº¤ä»£ç å¹¶æ‰§è¡Œåï¼Œæˆ‘ä»¬å‘ç°è¿˜æ˜¯è¶…æ—¶ï¼š

![b9391707c34fff3687dea66cbefa77af.webp](https://pic.leetcode-cn.com/1658203293-HXOanK-b9391707c34fff3687dea66cbefa77af.webp)

è¶…æ—¶ä¸€èˆ¬å°±æ˜¯æœ‰æ­»å¾ªç¯æˆ–è€…å¾ªç¯å¤ªå¤šæ¬¡ï¼Œä¸Šé¢ä»£ç ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œæœ‰ä¸¤ä¸ª while å¾ªç¯ï¼Œç¬¬ä¸€ä¸ª while å¾ªç¯çš„ç»“æŸæ¡ä»¶ `dividend<=divisor` åº”è¯¥æ²¡ä»€ä¹ˆé—®é¢˜ï¼Œç¬¬äºŒä¸ª while å¾ªç¯ä¸­ï¼Œ`value+value` æœ‰å¯èƒ½ä¼šå¯¼è‡´æ•´å‹æº¢å‡ºï¼Œæ‰€ä»¥éœ€è¦é™åˆ¶ä¸€ä¸‹ value çš„å¤§å°ï¼Œvalue æ˜¯è´Ÿæ•°ï¼Œè€Œæœ€å°çš„ int è´Ÿæ•°æ˜¯ -2Â³Â¹ï¼ˆ0x80000000ï¼‰ï¼Œå®ƒçš„ä¸€åŠæ˜¯ -2Â³Â¹/2=-2Â³â°ï¼ˆ0xc0000000ï¼‰ï¼Œå› æ­¤ç¬¬äºŒä¸ª while å¾ªç¯ä» `while (dividend <= value + value)` ä¿®æ”¹ä¸º `while (value >= 0xc0000000 && dividend <= value + value)` å³å¯ï¼Œæ³¨æ„è¿™é‡Œ value æ˜¯å¤§äºç­‰äº 0xc0000000ï¼Œä¸æ˜¯å°äºç­‰äºï¼Œå› ä¸ºæ˜¯è´Ÿæ•°ï¼Œæ€ç»´å¾—è½¬å˜è¿‡æ¥ã€‚

æœ€ç»ˆå®Œæ•´çš„ä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š

* java

```java
class Solution {
    /**
     * ä¸¤æ•°ç›¸é™¤
     * 
     * dividend è¢«é™¤æ•°
     * divisor é™¤æ•°
     */
    public int divide(int dividend, int divisor) {
        // å¤„ç†æ•´å‹æº¢å‡ºé—®é¢˜ï¼Œ-2Â³Â¹=0x80000000
        if (dividend == 0x80000000 && divisor == -1) {
            return Integer.MAX_VALUE;
        }

        // ç”¨æ¥è®°å½•é™¤æ•°å’Œè¢«é™¤æ•°æ˜¯è´Ÿæ•´æ•°çš„ä¸ªæ•°ï¼Œåˆå§‹åŒ–ä¸º2
        int negative = 2;

        // å¦‚æœè¢«é™¤æ•°æ˜¯æ­£æ•´æ•°ï¼Œåˆ™è½¬æ¢æˆå¯¹åº”çš„è´Ÿæ•´æ•°
        if (dividend > 0) {
            negative--;
            dividend = -dividend;
        }

        // å¦‚æœé™¤æ•°æ˜¯æ­£æ•´æ•°ï¼Œåˆ™è½¬æ¢æˆå¯¹åº”çš„è´Ÿæ•´æ•°
        if (divisor > 0) {
            negative--;
            divisor = -divisor;
        }

        int result = divideCore(dividend, divisor);
        return negative == 1 ? -result : result;
    }

    /**
     * ä½¿ç”¨å‡æ³•å®ç°ä¸¤ä¸ªè´Ÿæ•´æ•°çš„ç›¸é™¤æ“ä½œ
     * 
     * dividendï¼šè¢«é™¤æ•°
     * divisorï¼šé™¤æ•°
     */
    private int divideCore(int dividend, int divisor) {
        int ans = 0;
        while (dividend <= divisor) {
            // å•†
            int quotient = 1;
            
            // ä¸´æ—¶å˜é‡
            int value = divisor;

            // æ³¨æ„é¢˜ç›®è¦æ±‚ï¼Œåªèƒ½ä½¿ç”¨åŠ æ³•å’Œå‡æ³•
            // å› æ­¤ï¼Œé€šè¿‡value+valueå®ç°value*2çš„æ•ˆæœ
            // æ³¨æ„è¿™é‡Œ value æ˜¯å¤§äºç­‰äº 0xc0000000ï¼Œä¸æ˜¯å°äºç­‰äºï¼Œå› ä¸ºæ˜¯è´Ÿæ•°ï¼Œæ€ç»´å¾—è½¬å˜è¿‡æ¥
            while (value >= 0xc0000000 && dividend <= value + value) {
                // quotient é€šè¿‡è‡ªèº«ä¸æ–­å åŠ å®ç°ä¹˜ä»¥ 2 çš„æ•ˆæœ
                quotient += quotient;
                // value é€šè¿‡è‡ªèº«ä¸æ–­å åŠ å®ç°ä¹˜ä»¥ 2 çš„æ•ˆæœ
                value += value;
            }

            ans += quotient;
            dividend -= value;
        }

        return ans;
    }
}
```

ä»£ç æ‰§è¡Œç»“æœå¦‚ä¸‹ï¼š

![951b71cdc792457b95c2f8be126a370a.webp](https://pic.leetcode-cn.com/1658203264-sspeEg-951b71cdc792457b95c2f8be126a370a.webp)

## å‚è€ƒèµ„æ–™

* [ã€Šå‰‘æŒ‡ Offerï¼ˆä¸“é¡¹çªç ´ç‰ˆï¼‰ï¼šæ•°æ®ç»“æ„ä¸ç®—æ³•åä¼é¢è¯•é¢˜ç²¾è®²ã€‹](https://weread.qq.com/web/bookDetail/4e132bc07263ff664e11075)

