## æœ€é•¿ä¸Šå‡å­åºåˆ—ï¼ˆè´ªå¿ƒ + äºŒåˆ†ï¼‰

é¢˜ç›®è¦æˆ‘ä»¬åˆ¤æ–­æ˜¯å¦å­˜åœ¨é•¿åº¦ä¸º $3$ çš„ä¸Šå‡å­åºåˆ—ï¼Œé—®é¢˜å¯ä»¥è½¬æ¢ä¸ºæ±‚ $nums$ çš„æœ€é•¿ä¸Šå‡å­åºåˆ—ï¼ˆ`LIS` é—®é¢˜ï¼‰çš„é•¿åº¦ã€‚

å¦‚æœ $nums$ çš„æœ€é•¿ä¸Šå‡å­åºåˆ—é•¿åº¦å¤§äºç­‰äº $3$ï¼Œé‚£ä¹ˆåŸé—®é¢˜ç­”æ¡ˆä¸º `True`ï¼Œå¦åˆ™ä¸º `False`ã€‚

è€Œæ±‚æœ€é•¿ä¸Šå‡å­åºåˆ—çš„æœ€ä¼˜è§£æ˜¯æœ‰åŸºäºã€Œè´ªå¿ƒ + äºŒåˆ†ã€çš„ $O(n\log{n})$ åšæ³•ï¼Œå¯¹æ­¤ä¸äº†è§£çš„åŒå­¦ï¼Œå¯ä»¥å…ˆçœ‹å‰ç½® ğŸ§€ ï¼š[LCS é—®é¢˜ä¸ LIS é—®é¢˜çš„ç›¸äº’å…³ç³»ï¼Œä»¥åŠ LIS é—®é¢˜çš„æœ€ä¼˜è§£è¯æ˜](https://mp.weixin.qq.com/s?__biz=MzU4NDE3MTEyMA==&mid=2247487814&idx=1&sn=e33023c2d474ff75af83eda1c4d01892&chksm=fd9cba59caeb334f1fbfa1aefd3d9b2ab6abfccfcab8cb1dbff93191ae9b787e1b4681bbbde3&token=252055586&lang=zh_CN#rd)ï¼Œé‡Œé¢è¯¦ç»†è®²è§£äº† `LIS` çš„è´ªå¿ƒè§£è¯æ˜ï¼Œä»¥åŠä¸æœ€é•¿å…¬å…±å­åºåˆ—ï¼ˆ`LCS` é—®é¢˜ï¼‰çš„ç›¸äº’å…³ç³»ï¼Œæœ¬æ¬¡ä¸å†èµ˜è¿°ã€‚

**ç®€å•æ¥è¯´ï¼Œå°±æ˜¯åœ¨éå†æ¯ä¸ªæ•° $nums[i]$ çš„åŒæ—¶ï¼Œç»´æŠ¤ä¸€ä¸ªå…·æœ‰å•è°ƒæ€§çš„ $f[]$ æ•°ç»„ï¼Œå…¶ä¸­ $f[len] = x$ ä»£è¡¨é•¿åº¦ä¸º $len$ çš„æœ€é•¿ä¸Šå‡å­åºåˆ—æœ€å°ç»“å°¾å…ƒç´ ä¸º $x$ï¼Œå¯ä»¥è¯æ˜ $f$ æ•°ç»„å…·æœ‰å•è°ƒæ€§ï¼ˆçœ‹ [å‰ç½®ğŸ§€](https://mp.weixin.qq.com/s?__biz=MzU4NDE3MTEyMA==&mid=2247487814&idx=1&sn=e33023c2d474ff75af83eda1c4d01892&chksm=fd9cba59caeb334f1fbfa1aefd3d9b2ab6abfccfcab8cb1dbff93191ae9b787e1b4681bbbde3&token=252055586&lang=zh_CN#rd)ï¼‰ï¼Œå› æ­¤æ¯æ¬¡å¯ä»¥é€šè¿‡äºŒåˆ†æ‰¾åˆ°å°äº $nums[i]$ çš„æœ€å¤§ä¸‹æ ‡ï¼Œæ¥ä½œä¸º $nums[i]$ çš„å‰ä¸€ä¸ªæ•°ã€‚**

ç»¼ä¸Šï¼Œæˆ‘ä»¬ä½¿ç”¨ `LIS` çš„ã€Œè´ªå¿ƒ + äºŒåˆ†ã€åšæ³•æ±‚å¾—æœ€é•¿ä¸Šå‡å­åºåˆ—çš„æœ€å¤§é•¿åº¦ï¼Œç„¶åå’Œ $3$ æ¯”è¾ƒå³å¯å¾—å‡ºç­”æ¡ˆã€‚

**ä»£ç ï¼ˆæ„Ÿè°¢ [@ğŸ­å¯ä¹å¯ä¹å—QAQ](/u/littletime_cc/) åŒå­¦æä¾›çš„å…¶ä»–è¯­è¨€ç‰ˆæœ¬ï¼‰ï¼š**

* []

```Java
class Solution {
    public boolean increasingTriplet(int[] nums) {
        int n = nums.length, ans = 1;
        int[] f = new int[n + 1];
        Arrays.fill(f, 0x3f3f3f3f);
        for (int i = 0; i < n; i++) {
            int t = nums[i];
            int l = 1, r = i + 1;
            while (l < r) {
                int mid = l + r >> 1;
                if (f[mid] >= t) r = mid;
                else l = mid + 1;
            }
            f[r] = t;
            ans = Math.max(ans, r);
        }
        return ans >= 3;
    }
}
```

* []

```C++
class Solution {
public:
    bool increasingTriplet(vector<int>& nums) {
        int n = nums.size(), ans = 1;
        vector<int> f(n + 1, INT_MAX);
        for(int i = 0; i < n; i++){
            int t = nums[i];
            int L = 1, R = i + 1;
            while(L < R){
                int mid = L + R >> 1;
                if(f[mid] >= t) R = mid;
                else L = mid + 1;
            }
            f[R] = t;
            ans = max(ans, R);
        }
        return ans >= 3;
    }
};
```

* æ—¶é—´å¤æ‚åº¦ï¼š$O(n\log{n})$
* ç©ºé—´å¤æ‚åº¦ï¼š$O(n)$

---

## ä¼˜åŒ– : å®šé•¿ä¸Šå‡å­åºåˆ—ï¼ˆè´ªå¿ƒï¼‰

åˆ©ç”¨æœ¬é¢˜åªéœ€è¦æˆ‘ä»¬åˆ¤å®šæ˜¯å¦å­˜åœ¨é•¿åº¦ä¸º $3$ çš„ä¸Šå‡å­åºåˆ—ï¼Œè€Œä¸éœ€è¦å›ç­” `LIS` æœ€å¤§é•¿åº¦ã€‚

æˆ‘ä»¬å¯ä»¥å¯¹ $f$ æ•°ç»„è¿›è¡Œä¼˜åŒ–ï¼š**ä½¿ç”¨æœ‰é™å˜é‡è¿›è¡Œæ›¿æ¢ï¼ˆå°† $f$ æ•°ç»„çš„é•¿åº¦å‹ç¼©ä¸º $2$ï¼‰ï¼Œæ•°ç»„å«ä¹‰ä¸å˜ï¼Œ$f[1] = x$ ä»£è¡¨é•¿åº¦ä¸º $1$ çš„ä¸Šå‡å­åºåˆ—æœ€å°ç»“å°¾å…ƒç´ ä¸º $x$ï¼Œ$f[2] = y$ ä»£è¡¨é•¿åº¦ä¸º $2$ çš„ä¸Šå‡å­åºåˆ—çš„æœ€å°ç»“å°¾å…ƒç´ ä¸º $y$ã€‚**

**ä»å‰å¾€åæ‰«ææ¯ä¸ª $nums[i]$ï¼Œæ¯æ¬¡å°† $nums[i]$ åˆ†åˆ«ä¸ $f[1]$ å’Œ $f[2]$ è¿›è¡Œæ¯”è¾ƒï¼Œå¦‚æœèƒ½å¤Ÿæ»¡è¶³ $nums[i] > f[2]$ï¼Œä»£è¡¨ $nums[i]$ èƒ½å¤Ÿæ¥åœ¨é•¿åº¦ä¸º $2$ çš„ä¸Šå‡å­åºåˆ—çš„åé¢ï¼Œç›´æ¥è¿”å› `True`ï¼Œå¦åˆ™å°è¯•ä½¿ç”¨ $nums[i]$ æ¥æ›´æ–° $f[1]$ å’Œ $f[2]ã€‚$**

è¿™æ ·ï¼Œæˆ‘ä»¬åªä½¿ç”¨äº†æœ‰é™å˜é‡ï¼Œæ¯æ¬¡å¤„ç† $nums[i]$ åªéœ€è¦å’Œæœ‰é™å˜é‡è¿›è¡Œæ¯”è¾ƒï¼Œæ—¶é—´å¤æ‚åº¦ä¸º $O(n)$ï¼Œç©ºé—´å¤æ‚åº¦ä¸º $O(1)$ã€‚

**ä»£ç ï¼ˆæ„Ÿè°¢ [@ğŸ­å¯ä¹å¯ä¹å—QAQ](/u/littletime_cc/) å’Œ [@Benhao](/u/himymben/) åŒå­¦æä¾›çš„å…¶ä»–è¯­è¨€ç‰ˆæœ¬ï¼‰ï¼š**

* []

```Java
class Solution {
    public boolean increasingTriplet(int[] nums) {
        int n = nums.length;
        long[] f = new long[3];
        f[1] = f[2] = (int)1e19;
        for (int i = 0; i < n; i++) {
            int t = nums[i];
            if (f[2] < t) return true;
            else if (f[1] < t && t < f[2]) f[2] = t;
            else if (f[1] > t) f[1] = t;
        }
        return false;
    }
}
```

* []

```Python
class Solution:
    def increasingTriplet(self, nums: List[int]) -> bool:
        n = len(nums)
        f = [inf] * 3
        for i in range(n):
            t = nums[i]
            if f[2] < t:
                return True
            elif f[1] < t < f[2]:
                f[2] = t
            elif f[1] > t:
                f[1] = t
        return False
```

* []

```Go
func increasingTriplet(nums []int) bool {
    n := len(nums)
    f := []int{math.MaxInt32,math.MaxInt32,math.MaxInt32}
    for i := 0; i < n; i++ {
        t := nums[i]
        if f[2] < t{
            return true
        } else if f[1] < t && t < f[2]{
            f[2] = t
        } else if f[1] > t {
            f[1] = t
        }
    }
    return false
}
```

* []

```C++
class Solution {
public:
    bool increasingTriplet(vector<int>& nums) {
        int n = nums.size();
        vector<int> f(3, INT_MAX);
        for(int i = 0; i < n; i++){
            int t = nums[i];
            if(f[2] < t) return true;
            else if(f[1] < t and t < f[2]) f[2] = t;
            else if(f[1] > t) f[1] = t;
        }
        return false;
    }
};
```

* æ—¶é—´å¤æ‚åº¦ï¼š$O(n)$
* ç©ºé—´å¤æ‚åº¦ï¼š$O(1)$

---

## å…¶ä»–ã€Œåºåˆ— DPã€è¿ç”¨é¢˜

å¥½ä¹…æ²¡æ³•åŠ ç»ƒäº†ï¼Œå‘ä¸€ä¸ª ~

è€ƒè™‘åŠ ç»ƒå¦‚ä¸‹ã€Œåºåˆ— DPã€è¿ç”¨é¢˜ ğŸ­ğŸ­ğŸ­

| é¢˜ç›®                                                         | é¢˜è§£                                                         | éš¾åº¦ | æ¨èæŒ‡æ•° |
| ------------------------------------------------------------ | ------------------------------------------------------------ | ---- | -------- |
| [334. é€’å¢çš„ä¸‰å…ƒå­åºåˆ—](https://leetcode-cn.com/problems/increasing-triplet-subsequence/) | [LeetCode é¢˜è§£é“¾æ¥](https://leetcode-cn.com/problems/increasing-triplet-subsequence/solution/gong-shui-san-xie-zui-chang-shang-sheng-xa08h/) | ä¸­ç­‰ | ğŸ¤©ğŸ¤©ğŸ¤©ğŸ¤©     |
| [354. ä¿„ç½—æ–¯å¥—å¨ƒä¿¡å°é—®é¢˜](https://leetcode-cn.com/problems/russian-doll-envelopes/) | [LeetCode é¢˜è§£é“¾æ¥](https://leetcode-cn.com/problems/russian-doll-envelopes/solution/zui-chang-shang-sheng-zi-xu-lie-bian-xin-6s8d/) | å›°éš¾ | ğŸ¤©ğŸ¤©ğŸ¤©ğŸ¤©ğŸ¤©    |
| [368. æœ€å¤§æ•´é™¤å­é›†](https://leetcode-cn.com/problems/largest-divisible-subset/) | [LeetCode é¢˜è§£é“¾æ¥](https://leetcode-cn.com/problems/largest-divisible-subset/solution/gong-shui-san-xie-noxiang-xin-ke-xue-xi-0a3jc/) | ä¸­ç­‰ | ğŸ¤©ğŸ¤©ğŸ¤©ğŸ¤©     |
| [390. æ¶ˆé™¤æ¸¸æˆ](https://leetcode-cn.com/problems/elimination-game/) | [LeetCode é¢˜è§£é“¾æ¥](https://leetcode-cn.com/problems/elimination-game/solution/gong-shui-san-xie-yue-se-fu-huan-yun-yon-x60m/) | ä¸­ç­‰ | ğŸ¤©ğŸ¤©ğŸ¤©ğŸ¤©     |
| [446. ç­‰å·®æ•°åˆ—åˆ’åˆ† II - å­åºåˆ—](https://leetcode-cn.com/problems/arithmetic-slices-ii-subsequence/) | [LeetCode é¢˜è§£é“¾æ¥](https://leetcode-cn.com/problems/arithmetic-slices-ii-subsequence/solution/gong-shui-san-xie-xiang-jie-ru-he-fen-xi-ykvk/) | å›°éš¾ | ğŸ¤©ğŸ¤©ğŸ¤©ğŸ¤©ğŸ¤©    |
| [472. è¿æ¥è¯](https://leetcode-cn.com/problems/concatenated-words/) | [LeetCode é¢˜è§£é“¾æ¥](https://leetcode-cn.com/problems/concatenated-words/solution/gong-shui-san-xie-xu-lie-dpzi-fu-chuan-h-p7no/) | å›°éš¾ | ğŸ¤©ğŸ¤©ğŸ¤©ğŸ¤©     |
| [583. ä¸¤ä¸ªå­—ç¬¦ä¸²çš„åˆ é™¤æ“ä½œ](https://leetcode-cn.com/problems/delete-operation-for-two-strings/) | [LeetCode é¢˜è§£é“¾æ¥](https://leetcode-cn.com/problems/delete-operation-for-two-strings/solution/gong-shui-san-xie-cong-liang-chong-xu-li-wqv7/) | ä¸­ç­‰ | ğŸ¤©ğŸ¤©ğŸ¤©ğŸ¤©     |
| [629. Kä¸ªé€†åºå¯¹æ•°ç»„](https://leetcode-cn.com/problems/k-inverse-pairs-array/) | [LeetCode é¢˜è§£é“¾æ¥](https://leetcode-cn.com/problems/k-inverse-pairs-array/solution/gong-shui-san-xie-yi-dao-xu-lie-dp-zhuan-tm01/) | ä¸­ç­‰ | ğŸ¤©ğŸ¤©ğŸ¤©ğŸ¤©ğŸ¤©    |
| [673. æœ€é•¿é€’å¢å­åºåˆ—çš„ä¸ªæ•°](https://leetcode-cn.com/problems/number-of-longest-increasing-subsequence/) | [LeetCode é¢˜è§£é“¾æ¥](https://leetcode-cn.com/problems/number-of-longest-increasing-subsequence/solution/gong-shui-san-xie-lis-de-fang-an-shu-wen-obuz/) | ä¸­ç­‰ | ğŸ¤©ğŸ¤©ğŸ¤©ğŸ¤©     |
| [689. ä¸‰ä¸ªæ— é‡å å­æ•°ç»„çš„æœ€å¤§å’Œ](https://leetcode-cn.com/problems/maximum-sum-of-3-non-overlapping-subarrays/) | [LeetCode é¢˜è§£é“¾æ¥](https://leetcode-cn.com/problems/maximum-sum-of-3-non-overlapping-subarrays/solution/gong-shui-san-xie-jie-he-qian-zhui-he-de-ancx/) | å›°éš¾ | ğŸ¤©ğŸ¤©ğŸ¤©ğŸ¤©     |
| [740. åˆ é™¤å¹¶è·å¾—ç‚¹æ•°](https://leetcode-cn.com/problems/delete-and-earn/) | [LeetCode é¢˜è§£é“¾æ¥](https://leetcode-cn.com/problems/delete-and-earn/solution/gong-shui-san-xie-zhuan-huan-wei-xu-lie-6c9t0/) | ä¸­ç­‰ | ğŸ¤©ğŸ¤©ğŸ¤©ğŸ¤©ğŸ¤©    |
| [978. æœ€é•¿æ¹æµå­æ•°ç»„](https://leetcode-cn.com/problems/longest-turbulent-subarray/) | [LeetCode é¢˜è§£é“¾æ¥](https://leetcode-cn.com/problems/longest-turbulent-subarray/solution/xiang-jie-dong-tai-gui-hua-ru-he-cai-dp-3spgj/) | ä¸­ç­‰ | ğŸ¤©ğŸ¤©ğŸ¤©      |
| [1035. ä¸ç›¸äº¤çš„çº¿](https://leetcode-cn.com/problems/uncrossed-lines/) | [LeetCode é¢˜è§£é“¾æ¥](https://leetcode-cn.com/problems/uncrossed-lines/solution/gong-shui-san-xie-noxiang-xin-ke-xue-xi-bkaas/) | ä¸­ç­‰ | ğŸ¤©ğŸ¤©ğŸ¤©ğŸ¤©     |
| [1143. æœ€é•¿å…¬å…±å­åºåˆ—](https://leetcode-cn.com/problems/longest-common-subsequence/) | [LeetCode é¢˜è§£é“¾æ¥](https://leetcode-cn.com/problems/longest-common-subsequence/solution/gong-shui-san-xie-zui-chang-gong-gong-zi-xq0h/) | ä¸­ç­‰ | ğŸ¤©ğŸ¤©ğŸ¤©ğŸ¤©     |
| [1218. æœ€é•¿å®šå·®å­åºåˆ—](https://leetcode-cn.com/problems/longest-arithmetic-subsequence-of-given-difference/) | [LeetCode é¢˜è§£é“¾æ¥](https://leetcode-cn.com/problems/longest-arithmetic-subsequence-of-given-difference/solution/gong-shui-san-xie-jie-he-tan-xin-de-zhua-dj1k/) | ä¸­ç­‰ | ğŸ¤©ğŸ¤©ğŸ¤©ğŸ¤©ğŸ¤©    |
| [1473. ç²‰åˆ·æˆ¿å­ III](https://leetcode-cn.com/problems/paint-house-iii/) | [LeetCode é¢˜è§£é“¾æ¥](https://leetcode-cn.com/problems/paint-house-iii/solution/gong-shui-san-xie-san-wei-dong-tai-gui-h-ud7m/) | å›°éš¾ | ğŸ¤©ğŸ¤©ğŸ¤©ğŸ¤©     |
| [1713. å¾—åˆ°å­åºåˆ—çš„æœ€å°‘æ“ä½œæ¬¡æ•°](https://leetcode-cn.com/problems/minimum-operations-to-make-a-subsequence/) | [LeetCode é¢˜è§£é“¾æ¥](https://leetcode-cn.com/problems/minimum-operations-to-make-a-subsequence/solution/gong-shui-san-xie-noxiang-xin-ke-xue-xi-oj7yu/) | å›°éš¾ | ğŸ¤©ğŸ¤©ğŸ¤©ğŸ¤©ğŸ¤©    |

**æ³¨ï¼šä»¥ä¸Šç›®å½•æ•´ç†æ¥è‡ª [wiki](https://github.com/SharingSource/LogicStack-LeetCode/wiki/åºåˆ—-DP)ï¼Œä»»ä½•å½¢å¼çš„è½¬è½½å¼•ç”¨è¯·ä¿ç•™å‡ºå¤„ã€‚**

---

## æœ€å

**å¦‚æœæœ‰å¸®åŠ©åˆ°ä½ ï¼Œè¯·ç»™é¢˜è§£ç‚¹ä¸ªèµå’Œæ”¶è—ï¼Œè®©æ›´å¤šçš„äººçœ‹åˆ° ~ ("â–”â–¡â–”)/**

ä¹Ÿæ¬¢è¿ä½  [å…³æ³¨æˆ‘](https://oscimg.oschina.net/oscnet/up-19688dc1af05cf8bdea43b2a863038ab9e5.png)ï¼ˆå…¬ä¸»å·åå°å›å¤ã€Œé€ä¹¦ã€å³å¯å‚ä¸é•¿æœŸçœ‹é¢˜è§£å­¦ç®—æ³•é€å®ä½“ä¹¦æ´»åŠ¨ï¼‰æˆ– åŠ å…¥[ã€Œç»„é˜Ÿæ‰“å¡ã€](https://leetcode-cn.com/u/ac_oier/)å°ç¾¤ ï¼Œæä¾›å†™ã€Œè¯æ˜ã€&ã€Œæ€è·¯ã€çš„é«˜è´¨é‡é¢˜è§£ã€‚

æ‰€æœ‰é¢˜è§£å·²ç»åŠ å…¥ [åˆ·é¢˜æŒ‡å—](https://github.com/SharingSource/LogicStack-LeetCode/wiki)ï¼Œæ¬¢è¿ star å“¦ ~
